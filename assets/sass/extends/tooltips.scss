/* Tooltips */

%tooltip {

    position: relative;
    cursor: help;
    padding: 0;
    /* margin: 0; */
    
    &::after {               

        content: attr(data-tooltip);
        position: absolute;
        bottom: 100%;
        left: 45%;
        transform: translateX(-50%);
        background: $tooltip---background;
        color: $tooltip---colour;
        border: $tooltip---border;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
        padding: 9px 8px;
        border-radius: 4px;
        font-size: 14px;
        font-weight: normal;
        /* white-space: nowrap; */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.2s, visibility 0.2s;
        z-index: 1000;
        pointer-events: none;
        
        // Responsive adjustments to prevent horizontal scrolling
        /* max-width: 200px; */
        
        @media (max-width: $breakpoint---lg) {
            max-width: 150px;
            font-size: 12px;
            padding: 6px;
            white-space: normal;
            word-wrap: break-word;
        }
        
        @media (max-width: $breakpoint---md) {
            max-width: 120px;
            font-size: 10px;
            padding: 4px 6px;
            
            // Adjust positioning for smaller screens
            left: 50%;
            transform: translateX(-50%);
            
            // Ensure tooltip stays within viewport
            &[data-position="left"] {
                left: 0;
                transform: translateX(0);
            }
            
            &[data-position="right"] {
                left: auto;
                right: 0;
                transform: translateX(0);
            }
        }
        
        // Very small screens - minimal tooltip
        @media (max-width: $breakpoint---xs) {
            max-width: 100px;
            font-size: 9px;
            padding: 3px 4px;
        }
    }

    &:hover::after {
        opacity: 1;
        visibility: visible;
    }

    // Small arrow pointing down to the element
    &::before {
        content: '';
        position: absolute;
        bottom: 100%;
        left: 50%;
        /* transform: translateX(-50%) translateY(1px); */
        border: 4px solid transparent;
        border-top-color: rgba(0, 0, 0, 0.8);
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.2s, visibility 0.2s;
        z-index: 1000;
        pointer-events: none;

        top: 34px;
        bottom: auto;
        transform: translateX(-50%) rotate(180deg);
        border-top-color: transparent;
        /* border-bottom-color: rgba(0, 0, 0, 0.8); */
        border-bottom-color: $tooltip---colour;
        
        
        @media (max-width: $breakpoint---md) {

            border-width: 3px;
        }
        
        @media (max-width: $breakpoint---xs) {

            border-width: 2px;
        }
    }

    &:hover::before {
        
        opacity: 1;
        visibility: visible;
    }
}